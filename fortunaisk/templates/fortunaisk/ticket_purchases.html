<!-- fortunaisk/templates/fortunaisk/ticket_purchases.html -->
{% extends "fortunaisk/base.html" %}
{% load i18n %}
{% load humanize %}
{% load fortunaisk_filters %}

{% block page_title %}
    {% trans "Ticket Purchases" %}
{% endblock page_title %}

{% block details %}
<div class="container mt-4">
    <h2 class="text-center mb-4">{% trans "Ticket Purchases" %}</h2>
    {% if purchases %}
    <div class="d-flex flex-wrap justify-content-center gap-4">
        {% for purchase in purchases %}
        <div class="card shadow" style="width: 20rem;">
            <div class="card-header bg-info text-white">
                <i class="fas fa-ticket-alt"></i> {% trans "Ticket Purchase" %}
            </div>
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-user"></i> {{ purchase.user.username }}</h5>
                <p class="card-text">
                    <strong>{% trans "Character" %}:</strong> {{ purchase.character.character_name }}<br>
                    <strong>{% trans "Amount" %}:</strong> {{ purchase.amount|space_separated }} ISK<br>
                    <strong>{% trans "Date" %}:</strong> {{ purchase.date|date:"Y-m-d H:i" }}<br>
                    <strong>{% trans "Lottery Reference" %}:</strong> {{ purchase.lottery.lottery_reference }}
                </p>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info text-center">
        <i class="fas fa-info-circle alert-icon"></i>
        {% trans "No ticket purchases found for the current lottery." %}
    </div>
    {% endif %}
</div>
{% endblock details %}
